sudo: required
language: java
jdk:
- oraclejdk8
- oraclejdk10
services:
- docker
before_deploy:
- echo "$DOCKER_PASSWORD" | docker login --username "$DOCKER_USERNAME" --password-stdin
deploy:
  skip_cleanup: true
  provider: script
  script:
  - docker tag se.kth.id1212/appserv-spring:1.0 sekthid1212/appserv-spring-dev:1.0
  - docker push sekthid1212/appserv-spring-dev:1.0
  on:
    branch: develop
after_script:
- docker images
- echo "Current directory is $(pwd)"
- ls
- cat target/site/pmd/cpd.xml
- cat target/site/pmd/pmd.xml
- cat target/site/findbugs/findbugsXml.xml
env:
  global:
  - secure: l4v7wZx2Eo6q7YmL05Nc2r02tZTohFtTVgobhxM45j/cxS/TeamYAlXZRJaR5pk0CBuWKI2U7EeqIRm/Gs48unYQtU8n/5apBzFlVi6JVmwVhXonPEd9eCD9BwlA4Va9tjodZuIrs24GEm4ITFhMNp2ob/8AnJ1A5Qvg+sD9+/QApqLGb09IvwDHnXe9Sq3cLh2LvzXPnXMLRtTDg6l5Q7HwGfJla5+1Nc+1vhMVPwDCHfqw5B1QkWGIsC63x9nF73q8QuOaFyq0JLmVWugM11IjJuKejo4ZJSveHqKhKYU7ElsAiY/N5qBuV1pbqkl+EGt+ZNIt+wK8J0nlGBKT+2bJuBlTACDpYScZcs5/NZGXdxiwFbMqkee6lx+hVEB7i9cIjaSnAtVb8EOr8SFyirmQ80/UnQ9wYis2WO+AevQFZ0jDhpS5eJtLUBskH85fC6jWwoFBStnHAILJRHwfj/d9gUq3+A0ypfra5NvIjRqRdowbB+RU861kapZ6rXseVawG6mJt8n/abqJmenPHpLe+ayynz+FQDj6odOdxJUvJoH4G4t2lEr5lQpxMYuVmQhp1a+hLsdIPECtRbw3q/eyx5L1Rwi4bOZ/eHmdkvBMGKTZ97TITEjO35maeFcaUTGvBY4umSWfVp1uMThc1uPJzn8n9xqpANBHMCV+6dXU=
  - secure: WIbRnm6CjYmxFgRfvyrJEiuOksBhb0ir2KVSobfPnJoLvO+3hErTDpzPSacH4jGLkIX8AGGk1UVVSm0Z3V4kAgYd5NRzcmO5Rklx0Wx7pfcooR9kdXAIo/nVQN1lRe70328MnhATnprNUfAEYhbmOd6bbb9SMeUrFnW8tUTuS3JEauoSO5woRoMpvDs2QghDLdbwGceA+cTvAlSol+cxHEgiqqkdynwqsudyjs3opvrFMtIBOkLs5P0Pxw+8MavgYTfqF2KDVPMhN5t/bKIEqwn0a/M1nWBOnl4BDmyY6AicVnWO+MaDWgvgbrKWjkA2e/LmOKM7nTVOdhnNwWRjh3auQwszNdlpV1/W6Zs4rcKjyPV/v0PTTyDqeUcEDc65+w0vyEjfbpLx70ruLrnSig9446aNvDma32eB4DYLogumevEDJ0qqdli9TVx8Qlrf6kjm0JUx3dr8a78CcZGbZn4yl35qyMY2O9QJ16bbjYwrhWroOsfu3Oot+jxsOpB97MXYW+YLASDdjhVKyMU81YXLDhiZ8p+XLhTvd/oEFBqVCOHXHoVEMgJQkPS+/Twoh+DgMzr7h+iBZVLmQSprmHuLGxXH7oCknbtbDYdPLNcwBWPIPnPDrkEtbaEmJ1v1LDEtjqrpLLkECCWSnXyajJ0CQmIYKY3IAnAl6fQbqNo=
